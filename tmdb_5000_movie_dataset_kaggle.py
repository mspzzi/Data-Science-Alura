# -*- coding: utf-8 -*-
"""TMDB 5000 Movie Dataset - Kaggle.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1EQUh4wPmv4OTklbDAIkrVX7c19109FVN
"""

import pandas as pd
import matplotlib.pyplot as plt

#!pip install seaborn==0.9.0
import seaborn as sns

tmdb = pd.read_csv("/content/tmdb_5000_movies.csv")
tmdb.head()

tmdb.original_language.unique()

contagem_de_lingua = tmdb["original_language"].value_counts().to_frame().reset_index()
contagem_de_lingua.columns = ["original_language", "total"]
contagem_de_lingua.head()

sns.barplot(x="original_language", y = "total", data = contagem_de_lingua)

#desfuncional
#sns.catplot(x="original_language", kind="count", data = tmdb)

#desfuncional 
#plt.pie(contagem_de_lingua["total"], labels = contagem_de_lingua["original_language"])

total_por_lingua = tmdb["original_language"].value_counts()
total_geral = total_por_lingua.sum()
total_de_ingles = total_por_lingua.loc["en"]
total_do_resto = total_geral - total_de_ingles
print("Total de filmes em inglÃªs:", total_de_ingles, "\n", "Filmes com outra linguagens:", total_do_resto)

dados = {
    'lingua' : ['ingles', 'outros'],
    'total' : [total_de_ingles, total_do_resto]
}
dados = pd.DataFrame(dados)
sns.barplot(x="lingua", y="total", data = dados)

plt.pie(dados["total"], labels = dados["lingua"])

total_por_lingua_outros_filmes = tmdb.query("original_language != 'en'").original_language.value_counts()
total_por_lingua_outros_filmes

filmes_sem_lingua_original_em_ingles = tmdb.query("original_language != 'en'")

sns.catplot(x="original_language", kind="count", 
            data = filmes_sem_lingua_original_em_ingles,
            aspect = 2,
            order = total_por_lingua_outros_filmes.index,
            palette = "GnBu_d")

